<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

      <title>Smash Ultimate Material Research</title>

      
      

      <!-- CSS -->
      
      <link rel="stylesheet" href="https://scanmountgoat.github.io/Smush-Material-Research/book.css">
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
      

      
      
    </head>

    <body>
        <div class="menu">
            
            
            <nav role="navigation">
                <ul>
                    
                        
                        
                            
                            <li >
                                
                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;introduction&#x2F;">
                                    
                                    Introduction
                                </a>
                                
                            </li>
                        
                            
                            <li >
                                
                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;textures&#x2F;">
                                    
                                    Textures
                                </a>
                                
                                    <ul>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;textures&#x2F;col&#x2F;">
                                                    
                                                    Col (Texture0, Texture1)
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;textures&#x2F;prm&#x2F;">
                                                    
                                                    PRM (Texture6)
                                                </a>
                                            </li>
                                        
                                            <li class="active">
                                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;textures&#x2F;nor&#x2F;">
                                                    
                                                    NOR (Texture4)
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;textures&#x2F;emi&#x2F;">
                                                    
                                                    Emi (Texture5, Texture14)
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;textures&#x2F;difcube&#x2F;">
                                                    
                                                    Diffuse Cube (Texture8)
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;textures&#x2F;specularcube&#x2F;">
                                                    
                                                    Specular Cube (Texture7)
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;textures&#x2F;gamma&#x2F;">
                                                    
                                                    Gamma Correction
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                        
                            
                            <li >
                                
                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;vertex_attributes&#x2F;">
                                    
                                    Vertex Attributes
                                </a>
                                
                                    <ul>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;vertex_attributes&#x2F;vertex-attributes&#x2F;">
                                                    
                                                    Vertex Attributes
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;vertex_attributes&#x2F;texturecoordinates&#x2F;">
                                                    
                                                    Texture Coordinates
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;vertex_attributes&#x2F;colorsets&#x2F;">
                                                    
                                                    Color Sets - WIP
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                        
                            
                            <li >
                                
                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;materials&#x2F;">
                                    
                                    Materials
                                </a>
                                
                                    <ul>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;materials&#x2F;material-transitions&#x2F;">
                                                    
                                                    Material Transitions
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;materials&#x2F;transparency&#x2F;">
                                                    
                                                    Transparency
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;materials&#x2F;skin-materials&#x2F;">
                                                    
                                                    Skin Materials
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;materials&#x2F;hair-materials&#x2F;">
                                                    
                                                    Hair Materials - WIP
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;materials&#x2F;model-brightness&#x2F;">
                                                    
                                                    Model Brightness
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;materials&#x2F;renormal&#x2F;">
                                                    
                                                    Renormal Materials
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                        
                            
                            <li >
                                
                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;post_processing&#x2F;">
                                    
                                    Post Processing
                                </a>
                                
                                    <ul>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;post_processing&#x2F;colorgradinglut&#x2F;">
                                                    
                                                    Color Grading Lut
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;post_processing&#x2F;snapshot&#x2F;">
                                                    
                                                    Snapshot Filters - WIP
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                        
                            
                            <li >
                                
                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;renders&#x2F;">
                                    
                                    Renders
                                </a>
                                
                                    <ul>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;renders&#x2F;albedo-recoloring&#x2F;">
                                                    
                                                    Albedo Recoloring
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                        
                        <a href="https://github.com/ScanMountGoat/Smush-Material-Research"><i class="fa fa-github"></i> GitHub Repository</a>
                    
                </ul>
            </nav>
            
            
        </div>

        <div class="page">
            <div class="page__header">
                <div class="menu-icon">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                
                <span class="search-icon">🔎</span>
                
            </div>

            <div class="page__content">
                
                <div class="search-container">
                    <input id="search" type="search" placeholder="Search..">
                    <div class="search-results">
                        <div class="search-results__header"></div>
                        <ul class="search-results__items"></ul>
                    </div>
                </div>
                
                <div class="book-content">
                    
    <h1>NOR (Texture4)</h1>
    <p>Similar to PRM maps, NOR maps are actually composed of a few different textures.
The red and green channels correspond to the X+ and Y+ direction of the normal map. 
The blue channel is a transition blend map for material transitions. 
The alpha channel is a cavity map. </p>
<h2 id="nor-color-channels">NOR Color Channels&nbsp;<a class="anchor" href="#nor-color-channels">&#xE732;</a></h2>
<p>NOR maps do not contain color data despite being stored in a texture.
Avoid saving NOR maps as DDS or NUTEXB with
sRGB formats. sRGB formats have names that end in _SRGB. When rendering in programs such as Maya or Blender, set the NOR
maps to raw, non color data, or linear to ensure
the values aren't gamma corrected.</p>
<h3 id="normal-map-x-y-red-green">Normal Map X+, Y+ (<span style="color:red">Red</span>, <span style="color:green">Green</span>)&nbsp;<a class="anchor" href="#normal-map-x-y-red-green">&#xE732;</a></h3>
<figure class="figure">
<img src="mario_normal.jpg" height="auto" width="auto">
    <figcaption class="figure-caption text-center">The model with a blank NOR map (left), the XY channels from the NOR map and calculated z channel (center), and the model with the NOR map (right)</figcaption>
</figure>
The red channel contains the x component of the tangent space normal. A value of 1.0 is positive x, 0.0 is negative x, and 0.5 has no effect. 
<p>The green channel contains the y component of the tangent space normal. 
A value of 1.0 is positive y, 0.0 is negative y, and 0.5 has no effect. 
This is the standard channel layout for OpenGL normal maps, which may also be called &quot;Y+&quot; in some applications. The green channel should be flipped when using normal maps from DirectX or other applications that use Y- for the green channel.</p>
<p>The normal map z component is calculated in the shader using the following calculation.</p>
<pre data-lang="glsl" style="background-color:#eff1f5;color:#4f5b66;" class="language-glsl "><code class="language-glsl" data-lang="glsl"><span style="color:#a7adba;">// Remap the 0 to 1 range of the normal map to -1 to 1.
</span><span style="color:#b48ead;">float</span><span> x = </span><span style="color:#d08770;">2 </span><span>* norColor.</span><span style="color:#bf616a;">x </span><span>- </span><span style="color:#d08770;">1.0</span><span>;
</span><span style="color:#b48ead;">float</span><span> y = </span><span style="color:#d08770;">2 </span><span>* norColor.</span><span style="color:#bf616a;">y </span><span>- </span><span style="color:#d08770;">1.0</span><span>;
</span><span style="color:#a7adba;">// x*x + y*y + z*z = 1.0
</span><span style="color:#b48ead;">float</span><span> z = </span><span style="color:#96b5b4;">sqrt</span><span>(</span><span style="color:#d08770;">1 </span><span>- (x * x) + (y * y));
</span><span style="color:#a7adba;">// Map back to 0 to 1 range to get the equivalent texture color.
</span><span style="color:#b48ead;">float</span><span> normalMapZ = z * </span><span style="color:#d08770;">0.5 </span><span>+ </span><span style="color:#d08770;">0.5</span><span>;
</span></code></pre>
<h3 id="transition-blend-map-blue">Transition Blend Map (<span style="color:blue">Blue</span>)&nbsp;<a class="anchor" href="#transition-blend-map-blue">&#xE732;</a></h3>
<p>The blue channel contains the transition blend map used for transitioning between materials. 
See <a href="../../material_transitions">Material Transitions</a> for details and an interactive demo. Some stage models store the z component of the normal map in the NOR blue channel instead of a transition blend map.</p>
<h3 id="cavity-map-alpha">Cavity Map (Alpha)&nbsp;<a class="anchor" href="#cavity-map-alpha">&#xE732;</a></h3>
<p><img src="https://scanmountgoat.github.io/Smush-Material-Research/textures/nor/mario_cavity.jpg" alt="cavity" />
The alpha channel contains the cavity map, which occludes specular reflections and rim lighting. 
Unlike the ambient occlusion map in the PRM blue channel, cavity maps do not affect diffuse ambient lighting.
The shaders for some models don't access the alpha channel of the NOR map, so changing the cavity map may have no effect.</p>


                </div>
            </div>

            <div class="prev-link">
                
    
        
        
        <a class="previous" href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;textures&#x2F;"><</a>
    

            </div>

            <div class="next-link">
                
    
        <a class="next" href="https:&#x2F;&#x2F;scanmountgoat.github.io&#x2F;Smush-Material-Research&#x2F;textures&#x2F;emi&#x2F;">></a>
    

            </div>
        </div>

        
            
            <script type="text/javascript" src="https://scanmountgoat.github.io/Smush-Material-Research/elasticlunr.min.js"></script>
            <script type="text/javascript" src="https://scanmountgoat.github.io/Smush-Material-Research/search_index.en.js"></script>
            
            <script type="text/javascript" src="https://scanmountgoat.github.io/Smush-Material-Research/book.js"></script>
        
    </body>

</html>
